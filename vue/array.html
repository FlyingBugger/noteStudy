<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>array</title>
  </head>
  <body>

  </body>
  <script type="text/javascript">
    const aryMethods = ['push', 'pop', 'shift', 'unshift', 'splice', 'sort', 'reverse'];
    const arrNewmethods=new Array();

    aryMethods.forEach((v)=>{
      let originaleMethonds=Array.prototype[v];
      arrNewmethods[v]=function (){
        console.log(v+"called");
        return originaleMethonds.apply(this,arguments);
      }
    })
    let list = ['a', 'b', 'c'];
    // 将我们要监听的数组的原型指针指向上面定义的空数组对象
    // 别忘了这个空数组的属性上定义了我们封装好的push等方法
    list.__proto__ = arrNewmethods;
    list.push('d');  // 我被改变啦！ 4

    // 这里的list2没有被重新定义原型指针，所以就正常输出
    let list2 = ['a', 'b', 'c'];
    list2.push('d');  // 4

    class arr extends Array {
      push(...args){
        console.warn("args")
        super.push(...args)
      }
    }
  let c=  new arr(...list2);

  </script>
</html>
